-- =====================================================
-- 프로필 자동 생성 트리거 제거
-- =====================================================
-- 이유: 애플리케이션 레벨에서 명시적으로 프로필 생성 관리
-- - 이메일 회원가입: /api/auth/signup
-- - OAuth 로그인: OAuthService.createOAuthProfile()
-- =====================================================

-- 트리거 삭제
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;

-- 함수 삭제
DROP FUNCTION IF EXISTS handle_new_user();

-- =====================================================
-- 주의사항
-- =====================================================
-- 이 마이그레이션 적용 후:
-- 1. 새로운 사용자 가입 시 프로필이 자동 생성되지 않음
-- 2. 애플리케이션 코드에서 명시적으로 profiles 레코드를 생성해야 함
-- 3. /api/auth/signup (이메일 회원가입)에서 프로필 생성 확인 필요
-- 4. OAuthService.createOAuthProfile() (OAuth)에서 프로필 생성 확인 필요
